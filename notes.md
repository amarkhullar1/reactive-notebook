┌─────────────────────────────────────────────────────────────┐
│                     FastAPI Event Loop                       │
│  ┌─────────────────┐    ┌─────────────────┐                 │
│  │  WebSocket 1    │    │  WebSocket 2    │                 │
│  │  (executing)    │    │  (can send      │                 │
│  │                 │    │   interrupt!)   │                 │
│  └────────┬────────┘    └────────┬────────┘                 │
│           │                      │                           │
│           ▼                      ▼                           │
│  ┌─────────────────────────────────────────┐                │
│  │         asyncio.to_thread()             │ ◄── Non-blocking│
│  │         engine.execute_cell()           │                │
│  └─────────────────┬───────────────────────┘                │
└────────────────────┼────────────────────────────────────────┘
                     │
                     ▼
         ┌───────────────────────┐
         │    Worker Process     │ ◄── Can be killed!
         │    (code execution)   │
         └───────────────────────┘




Frontend Integration
To use interrupt, the frontend needs to send

┌─────────────────────────────────────────────────────────────┐
│                     FastAPI Event Loop                       │
│  ┌─────────────────┐    ┌─────────────────┐                 │
│  │  WebSocket 1    │    │  WebSocket 2    │                 │
│  │  (executing)    │    │  (can send      │                 │
│  │                 │    │   interrupt!)   │                 │
│  └────────┬────────┘    └────────┬────────┘                 │
│           │                      │                           │
│           ▼                      ▼                           │
│  ┌─────────────────────────────────────────┐                │
│  │         asyncio.to_thread()             │ ◄── Non-blocking│
│  │         engine.execute_cell()           │                │
│  └─────────────────┬───────────────────────┘                │
└────────────────────┼────────────────────────────────────────┘
                     │
                     ▼
         ┌───────────────────────┐
         │    Worker Process     │ ◄── Can be killed!
         │    (code execution)   │
         └───────────────────────┘